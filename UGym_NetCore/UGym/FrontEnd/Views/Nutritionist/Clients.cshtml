@model IEnumerable<FrontEnd.Models.MembersViewModel>

@{
    Layout = "~/Views/Shared/_Nutritionist_layout.cshtml";
}
<style>
    /* Estilos personalizados */
    .container {
        text-align: center; /* Centra el contenido */
    }

    table.table {
        width: auto; /* Ancho automático */
        background-color: white; /* Fondo blanco */
        max-width: 100%; /* Máximo ancho del contenedor */
        margin: 20px auto;
        border-radius: 5px; /* Bordes redondeados */
        overflow: hidden; /* Oculta el contenido que se desborda */
    }

    .table th,
    .table td {
        vertical-align: middle;
        border: 1px solid white; /* Borde blanco */
        text-align: center; /* Centra el contenido horizontalmente */
    }

    .btn {
        margin-right: 5px;
    }

    /* Estilo para centrar verticalmente los elementos en las filas */
    .row-center {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    /* Estilo para centrar el texto de las entradas de filtro verticalmente */
    .filter-input {
        margin-bottom: 0; /* Elimina el espacio debajo de las entradas de filtro */
    }
</style>

<div class="container">
    <h2>Lista de Clientes</h2>
    <div class="row">
        <div class="col s12">
            <div class="input-field">
                <input type="text" id="filtroNumeroSocio" placeholder="Filtrar por Número de Socio">
            </div>
            <div class="input-field">
                <input type="text" id="filtroNombre" placeholder="Filtrar por Nombre">
            </div>
            <div class="input-field">
                <input type="text" id="filtroApellidos" placeholder="Filtrar por Apellidos">
            </div>
        </div>
    </div>
</div>
<div class="container">
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.MemberId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.MemberNumb)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FullName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Gender)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Cedula)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Birthday)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Ocupation)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.KnowGym)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Motivation)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.MobileNumber)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.EmergencyContactId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.MembFileId)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.MemberId)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MemberNumb)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.FullName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Gender)
                    </td>
                    <th>
                        @Html.DisplayFor(modelItem => item.Cedula)
                    </th>
                    <td>
                        @Html.DisplayFor(modelItem => item.Birthday)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Ocupation)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.KnowGym)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Motivation)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MobileNumber)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.EmergencyContactId)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MembFileId)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                        @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                        @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <p id="mensajeBorrado" style="display: none; color: green;">Informe Borrado</p>
    @Html.ActionLink("Regresar", "Index", "Nutritionist", new { area = "" }, new { @class = "btn waves-effect waves-light" })
</div>

<!-- Estilos -->
<style>
    .table {
        width: 100%;
        max-width: 800px;
        margin: 20px auto;
    }

        .table th, .table td {
            vertical-align: middle;
        }

    .btn {
        margin-right: 5px;
    }
</style>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('.borrarBtn').on('click', function () {
            $('#mensajeBorrado').show();
            setTimeout(function () {
                $('#mensajeBorrado').hide();
            }, 2000);
        });

        $('#filtroNumeroSocio, #filtroNombre, #filtroApellidos').on('input', function () {
            var filtroNumeroSocio = $('#filtroNumeroSocio').val().toLowerCase();
            var filtroNombre = $('#filtroNombre').val().toLowerCase();
            var filtroApellidos = $('#filtroApellidos').val().toLowerCase();

            $('.table tbody tr').each(function () {
                var numeroSocio = $(this).find('td:eq(0)').text().toLowerCase();
                var nombre = $(this).find('td:eq(1)').text().toLowerCase();
                var apellidos = $(this).find('td:eq(1)').text().toLowerCase();

                if (numeroSocio.includes(filtroNumeroSocio) &&
                    nombre.includes(filtroNombre) &&
                    apellidos.includes(filtroApellidos)) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
        });
    });
</script>
